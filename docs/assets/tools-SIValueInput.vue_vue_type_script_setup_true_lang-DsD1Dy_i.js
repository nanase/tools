import{d as m,ab as p,W as x,ac as V,j as s,k as g,n as b,p as d,o as y,c as F,u,X as n,ad as k}from"./tools-AppBase.vue_vue_type_script_setup_true_lang-Dk5-wpwq.js";const N=m({__name:"SIValueInput",props:p({unit:null,prefixSymbols:null,fractionDigits:null,rule:null},{value:{},valueModifiers:{}}),emits:["update:value"],setup(a){const c=x(),l=V(a,"value"),i=s(),o=s();g(()=>l.value,()=>{r()}),b(()=>{r()});function r(){var t;if(typeof l.value<"u"&&Number.isFinite(l.value)&&!((t=o.value)!=null&&t.focused)){const e=d.fit(l.value,a.prefixSymbols??[""]);i.value=`${e.toFixed(a.fractionDigits??3)}`}}function f(t){const e=d.parse(t);Number.isFinite(e.fraction)&&(l.value=e.actualValue)}return(t,e)=>(y(),F(u(k),{"model-value":i.value,"onUpdate:modelValue":[e[0]||(e[0]=v=>i.value=v),f],rules:u(c).readonly?[]:a.rule?a.rule:[u(n).required,u(n).value,u(n).notZero,u(n).notNegative],prefix:a.unit,class:"text-align-right",reverse:"",inputmode:"numeric",ref_key:"field",ref:o},null,8,["model-value","rules","prefix"]))}});export{N as _};
