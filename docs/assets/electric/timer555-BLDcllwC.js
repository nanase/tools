import{d as q,r,w,a as C,o as A,c as L,b as a,e as l,u,f,_ as z,g as G}from"../tools-AppBase.vue_vue_type_script_setup_true_lang-eFFrt3uz.js";import{d as H,_ as b,R as o,b as x,a as S,C as T,S as U}from"../tools-InputRow.vue_vue_type_script_setup_true_lang-ClZjpbSS.js";import{_ as Z}from"../tools-MathJax.vue_vue_type_style_index_0_lang-CfFxDfZd.js";const B="/tools/electric/timer555.svg",D={style:{height:"250px"}},E=f("img",{class:"color-responsive",src:B,style:{width:"100%","max-width":"400px"}},null,-1),O=f("p",null," 出力パルスのHレベルの時間 \\(t_\\text{high}\\) とLレベルの時間 \\( t_\\text{low} \\) はそれぞれ以下の式で求められます。 ",-1),I=f("p",null,"$$ t_\\text{high} = \\ln(2) \\cdot (R_{1}+R_{2})\\cdot C_1 $$",-1),P=f("p",null,"$$ t_\\text{low} = \\ln(2) \\cdot R_2 \\cdot C_1 $$",-1),W=f("p",null,"したがって、出力パルスの周波数 \\(f\\) は次の式で求められます。",-1),j=f("p",null,"$$ f = \\frac{1}{t_\\text{high} + t_\\text{low}} = \\frac{1}{\\ln(2) \\cdot (R_1 + 2 R_2) \\cdot C_1} $$",-1),J=f("p",null,"さらに、デューティ比 \\(D\\) は次の式で求められます。",-1),K=f("p",null," $$ D~(\\%) = \\frac{t_\\text{high}}{t_\\text{high} + t_\\text{low}} \\cdot 100 = \\frac{R_1 + R_2}{R_1 + 2 R_2} \\cdot 100 $$ ",-1),Q=f("p",null," ここで \\(t\\) は時間 [s]、\\(R\\) は抵抗値 [Ω]、\\(C\\) は静電容量 [F]、\\(f\\) は周波数 [Hz]、\\(\\ln(2)\\) は2の自然対数です。 ",-1),X=q({__name:"Timer555App",setup(Y){const V=r(),d=r(1e4),v=r(1e4),m=r(1e-7),p=r(5),_=r(0),$=r(0),y=r(0),g=r(),R=r(),F=r();w(()=>[d.value,v.value,m.value,V.value],()=>{const i=d.value,e=v.value,n=m.value;typeof i<"u"&&typeof e<"u"&&typeof n<"u"&&Number.isFinite(i)&&Number.isFinite(e)&&Number.isFinite(n)&&(_.value=Math.LOG2E/((i+e*2)*n),$.value=1/Math.LOG2E*((i+e)*n),y.value=1/Math.LOG2E*(e*n),g.value=(i+e)/(i+2*e)*100,N())},{immediate:!0}),w(()=>[p.value,d.value],()=>{const i=p.value,e=d.value;typeof i<"u"&&typeof e<"u"&&Number.isFinite(i)&&Number.isFinite(e)&&(R.value=i/e,F.value=i**2/e,N())},{immediate:!0});function M(i){return new T(i,{type:"line",data:{datasets:[]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{title:function(e){return`${U.fit(Number(e[0].parsed.x),["","m","μ","n","p"]).toFixed(1)}s`},label:function(e){return`出力: ${e.parsed.y}V`}}}},scales:{x:{type:"linear",min:0,alignToPixels:!0,ticks:{callback(e){return e===0?"0":`${U.fit(Number(e),["","m","μ","n","p"]).toFixed(1)}s`}}},y:{offset:!0,ticks:{callback(e){return e===0?"0":`${Number(e).toFixed(1)}V`}}}}}})}function N(){var s,k;const i=(s=V.value)==null?void 0:s.getChart();if(!i||!i.ready)return;const e=[];let n=(y.value+$.value)*-3;for(let c=0;c<6;c++)e.push({x:n,y:p.value}),n+=$.value,e.push({x:n,y:0}),n+=y.value;H(i.chart,{data:{datasets:[{label:"出力",data:e,pointStyle:!1,hidden:typeof((k=i.chart.data.datasets[0])==null?void 0:k.hidden)>"u"?!1:!i.chart.isDatasetVisible(0),stepped:"before"}]},scales:{x:{options:{min:(y.value+$.value)*-2.1,max:(y.value+$.value)*2.1}}}}).update("none")}return(i,e)=>{const n=C("v-list-item"),s=C("v-col"),k=C("v-row"),c=C("v-divider");return A(),L(z,{"page-id":"electric/timer555","toolbar-title":"タイマIC 555 計算機"},{default:a(()=>[l(k,null,{default:a(()=>[l(s,{cols:"12",sm:"8"},{default:a(()=>[l(b,{modelValue:d.value,"onUpdate:modelValue":e[6]||(e[6]=t=>d.value=t),label:"R1の抵抗値",variant:"underlined",density:"compact",unit:"Ω",scale:"log",max:1e6,min:100,"fraction-digits":3,"prefix-symbols":["M","k","","m"],rule:[u(o).required,u(o).value,u(o).notNegative,u(o).notZero],cols:"4","hide-details":""},{"menu-list":a(()=>[l(n,{title:"100.0 kΩ",onClick:e[0]||(e[0]=t=>d.value=1e5)}),l(n,{title:"47.0 kΩ",onClick:e[1]||(e[1]=t=>d.value=47e3)}),l(n,{title:"10.0 kΩ",onClick:e[2]||(e[2]=t=>d.value=1e4)}),l(n,{title:"4.7 kΩ",onClick:e[3]||(e[3]=t=>d.value=4700)}),l(n,{title:"1.0 kΩ",onClick:e[4]||(e[4]=t=>d.value=1e3)}),l(n,{title:"470 Ω",onClick:e[5]||(e[5]=t=>d.value=470)})]),_:1},8,["modelValue","rule"]),l(b,{modelValue:v.value,"onUpdate:modelValue":e[13]||(e[13]=t=>v.value=t),label:"R2の抵抗値",variant:"underlined",density:"compact",unit:"Ω",scale:"log",max:1e6,min:100,"fraction-digits":3,"prefix-symbols":["M","k","","m"],rule:[u(o).required,u(o).value,u(o).notNegative,u(o).notZero],cols:"4","hide-details":""},{"menu-list":a(()=>[l(n,{title:"100.0 kΩ",onClick:e[7]||(e[7]=t=>v.value=1e5)}),l(n,{title:"47.0 kΩ",onClick:e[8]||(e[8]=t=>v.value=47e3)}),l(n,{title:"10.0 kΩ",onClick:e[9]||(e[9]=t=>v.value=1e4)}),l(n,{title:"4.7 kΩ",onClick:e[10]||(e[10]=t=>v.value=4700)}),l(n,{title:"1.0 kΩ",onClick:e[11]||(e[11]=t=>v.value=1e3)}),l(n,{title:"470 Ω",onClick:e[12]||(e[12]=t=>v.value=470)})]),_:1},8,["modelValue","rule"]),l(b,{modelValue:m.value,"onUpdate:modelValue":e[20]||(e[20]=t=>m.value=t),label:"C1の静電容量",variant:"underlined",density:"compact",unit:"F",scale:"log",max:.001,min:1e-12,"fraction-digits":3,"prefix-symbols":["","m","μ","n","p"],rule:[u(o).required,u(o).value,u(o).notNegative,u(o).notZero],cols:"4","hide-details":""},{"menu-list":a(()=>[l(n,{title:"100.0 μF",onClick:e[14]||(e[14]=t=>m.value=1e-4)}),l(n,{title:"10.0 μF",onClick:e[15]||(e[15]=t=>m.value=1e-5)}),l(n,{title:"1.0 μF",onClick:e[16]||(e[16]=t=>m.value=1e-6)}),l(n,{title:"0.1 μF",onClick:e[17]||(e[17]=t=>m.value=1e-7)}),l(n,{title:"0.01 μF",onClick:e[18]||(e[18]=t=>m.value=1e-8)}),l(n,{title:"0.001 μF",onClick:e[19]||(e[19]=t=>m.value=1e-9)})]),_:1},8,["modelValue","rule"]),l(b,{modelValue:p.value,"onUpdate:modelValue":e[26]||(e[26]=t=>p.value=t),label:"電源電圧",variant:"underlined",density:"compact",unit:"V",max:18,min:1,scale:"log","fraction-digits":2,rule:[u(o).required,u(o).value,u(o).notNegative,u(o).notZero],cols:"4","hide-details":""},{"menu-list":a(()=>[l(n,{title:"18 V",onClick:e[21]||(e[21]=t=>p.value=18)}),l(n,{title:"9 V",onClick:e[22]||(e[22]=t=>p.value=9)}),l(n,{title:"5 V",onClick:e[23]||(e[23]=t=>p.value=5)}),l(n,{title:"3.3 V",onClick:e[24]||(e[24]=t=>p.value=3.3)}),l(n,{title:"1.8 V",onClick:e[25]||(e[25]=t=>p.value=1.8)})]),_:1},8,["modelValue","rule"]),l(k,null,{default:a(()=>[l(s,{cols:"3"},{default:a(()=>[l(x,{value:_.value,"onUpdate:value":e[27]||(e[27]=t=>_.value=t),label:"周波数",variant:"underlined",density:"compact",unit:"Hz","prefix-symbols":["G","M","k",""],readonly:""},null,8,["value"])]),_:1}),l(s,{cols:"3"},{default:a(()=>[l(x,{value:$.value,"onUpdate:value":e[28]||(e[28]=t=>$.value=t),label:"Hレベル時間",variant:"underlined",density:"compact",unit:"s","prefix-symbols":["","m","μ","n"],readonly:""},null,8,["value"])]),_:1}),l(s,{cols:"3"},{default:a(()=>[l(x,{value:y.value,"onUpdate:value":e[29]||(e[29]=t=>y.value=t),label:"Lレベル時間",variant:"underlined",density:"compact",unit:"s","prefix-symbols":["","m","μ","n"],readonly:""},null,8,["value"])]),_:1}),l(s,{cols:"3"},{default:a(()=>[l(x,{value:g.value,"onUpdate:value":e[30]||(e[30]=t=>g.value=t),label:"デューティ比",variant:"underlined",density:"compact",unit:"%",readonly:""},null,8,["value"])]),_:1}),l(s,{cols:"3"},{default:a(()=>[l(x,{value:R.value,"onUpdate:value":e[31]||(e[31]=t=>R.value=t),label:"R1の最大電流",variant:"underlined",density:"compact",readonly:"",unit:"A","prefix-symbols":["","m","μ","n"]},null,8,["value"])]),_:1}),l(s,{cols:"3"},{default:a(()=>[l(x,{value:F.value,"onUpdate:value":e[32]||(e[32]=t=>F.value=t),label:"R1の最大損失",variant:"underlined",density:"compact",readonly:"",unit:"W","prefix-symbols":["","m","μ","n"]},null,8,["value"])]),_:1})]),_:1}),l(k,null,{default:a(()=>[l(s,{cols:"12"},{default:a(()=>[f("div",D,[l(S,{ref_key:"chart",ref:V,initializer:M},null,512)])]),_:1})]),_:1})]),_:1}),l(s,{cols:"12",sm:"4",class:"text-center"},{default:a(()=>[E]),_:1})]),_:1}),l(k,null,{default:a(()=>[l(c),l(s,{cols:"12"},{default:a(()=>[l(Z,null,{default:a(()=>[O,I,P,W,j,J,K,Q]),_:1})]),_:1})]),_:1})]),_:1})}}});G("#app",X);
