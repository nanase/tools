import{d as L,r as v,w as N,a as b,o as q,c as A,b as a,e as t,u as o,f as $,_ as z,g as B}from"../tools-AppBase.vue_vue_type_script_setup_true_lang-2pEV9xKQ.js";import{d as G,_ as C,R as u,a as k,b as H,c as S,C as T,S as U}from"../tools-object-DqcZlrv6.js";const Z="/tools/electric/timer555.svg",D={style:{height:"250px"}},E=$("img",{class:"color-responsive",src:Z,style:{width:"100%","max-width":"400px"}},null,-1),O=$("p",null," 出力パルスのHレベルの時間 \\(t_\\text{high}\\) とLレベルの時間 \\( t_\\text{low} \\) はそれぞれ以下の式で求められます。 ",-1),I=$("p",null,"$$ t_\\text{high} = \\ln(2) \\cdot (R_{1}+R_{2})\\cdot C_1 $$",-1),P=$("p",null,"$$ t_\\text{low} = \\ln(2) \\cdot R_2 \\cdot C_1 $$",-1),W=$("p",null,"したがって、出力パルスの周波数 \\(f\\) は次の式で求められます。",-1),j=$("p",null,"$$ f = \\frac{1}{t_\\text{high} + t_\\text{low}} = \\frac{1}{\\ln(2) \\cdot (R_1 + 2 R_2) \\cdot C_1} $$",-1),J=$("p",null,"さらに、デューティ比 \\(D\\) は次の式で求められます。",-1),K=$("p",null," $$ D~(\\%) = \\frac{t_\\text{high}}{t_\\text{high} + t_\\text{low}} \\cdot 100 = \\frac{R_1 + R_2}{R_1 + 2 R_2} \\cdot 100 $$ ",-1),Q=$("p",null," ここで \\(t\\) は時間 [s]、\\(R\\) は抵抗値 [Ω]、\\(C\\) は静電容量 [F]、\\(f\\) は周波数 [Hz]、\\(\\ln(2)\\) は2の自然対数です。 ",-1),X=L({__name:"Timer555App",setup(Y){const V=v(),r=v(1e4),m=v(1e4),p=v(1e-7),f=v(5),_=v(0),y=v(0),c=v(0),g=v(),R=v(),F=v();N(()=>[r.value,m.value,p.value,V.value],()=>{const i=r.value,e=m.value,n=p.value;typeof i<"u"&&typeof e<"u"&&typeof n<"u"&&Number.isFinite(i)&&Number.isFinite(e)&&Number.isFinite(n)&&(_.value=Math.LOG2E/((i+e*2)*n),y.value=1/Math.LOG2E*((i+e)*n),c.value=1/Math.LOG2E*(e*n),g.value=(i+e)/(i+2*e)*100,w())},{immediate:!0}),N(()=>[f.value,r.value],()=>{const i=f.value,e=r.value;typeof i<"u"&&typeof e<"u"&&Number.isFinite(i)&&Number.isFinite(e)&&(R.value=i/e,F.value=i**2/e,w())},{immediate:!0});function M(i){return new T(i,{type:"line",data:{datasets:[]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{title:function(e){const n=U.fit(Number(e[0].parsed.x),["","m","μ","n","p"]);return`${n.fraction.toFixed(1)}${n.prefix.symbol}s`},label:function(e){return`出力: ${e.parsed.y}V`}}}},scales:{x:{type:"linear",min:0,alignToPixels:!0,ticks:{showLabelBackdrop:!0,callback(e,n,s){if(e===0)return"0";{const d=U.fit(Number(e),["","m","μ","n","p"]);return n===s.length-1?`${d.fraction.toFixed(1)}${d.prefix.symbol}s`:`${d.fraction.toFixed(0)}${d.prefix.symbol}s`}}}},y:{offset:!0,ticks:{callback(e){return e===0?"0":`${Number(e).toFixed(1)}V`}}}}}})}function w(){var s,d;const i=(s=V.value)==null?void 0:s.getChart();if(!i||!i.ready)return;const e=[];let n=(c.value+y.value)*-3;for(let x=0;x<6;x++)e.push({x:n,y:f.value}),n+=y.value,e.push({x:n,y:0}),n+=c.value;G(i.chart,{data:{datasets:[{label:"出力",data:e,pointStyle:!1,hidden:typeof((d=i.chart.data.datasets[0])==null?void 0:d.hidden)>"u"?!1:!i.chart.isDatasetVisible(0),stepped:"before"}]},scales:{x:{options:{min:(c.value+y.value)*-2.1,max:(c.value+y.value)*2.1}}}}).update("none")}return(i,e)=>{const n=b("v-list-item"),s=b("v-col"),d=b("v-row"),x=b("v-divider");return q(),A(z,{"page-id":"electric/timer555","toolbar-title":"タイマIC 555 計算機"},{default:a(()=>[t(d,null,{default:a(()=>[t(s,{cols:"12",sm:"8"},{default:a(()=>[t(C,{modelValue:r.value,"onUpdate:modelValue":e[6]||(e[6]=l=>r.value=l),label:"R1の抵抗値",variant:"underlined",density:"compact",unit:"Ω",scale:"log",max:1e6,min:100,"fraction-digits":3,"prefix-symbols":["M","k","","m"],rule:[o(u).required,o(u).value,o(u).notNegative,o(u).notZero],cols:"4","hide-details":""},{"menu-list":a(()=>[t(n,{title:"100.0 kΩ",onClick:e[0]||(e[0]=l=>r.value=1e5)}),t(n,{title:"47.0 kΩ",onClick:e[1]||(e[1]=l=>r.value=47e3)}),t(n,{title:"10.0 kΩ",onClick:e[2]||(e[2]=l=>r.value=1e4)}),t(n,{title:"4.7 kΩ",onClick:e[3]||(e[3]=l=>r.value=4700)}),t(n,{title:"1.0 kΩ",onClick:e[4]||(e[4]=l=>r.value=1e3)}),t(n,{title:"470 Ω",onClick:e[5]||(e[5]=l=>r.value=470)})]),_:1},8,["modelValue","rule"]),t(C,{modelValue:m.value,"onUpdate:modelValue":e[13]||(e[13]=l=>m.value=l),label:"R2の抵抗値",variant:"underlined",density:"compact",unit:"Ω",scale:"log",max:1e6,min:100,"fraction-digits":3,"prefix-symbols":["M","k","","m"],rule:[o(u).required,o(u).value,o(u).notNegative,o(u).notZero],cols:"4","hide-details":""},{"menu-list":a(()=>[t(n,{title:"100.0 kΩ",onClick:e[7]||(e[7]=l=>m.value=1e5)}),t(n,{title:"47.0 kΩ",onClick:e[8]||(e[8]=l=>m.value=47e3)}),t(n,{title:"10.0 kΩ",onClick:e[9]||(e[9]=l=>m.value=1e4)}),t(n,{title:"4.7 kΩ",onClick:e[10]||(e[10]=l=>m.value=4700)}),t(n,{title:"1.0 kΩ",onClick:e[11]||(e[11]=l=>m.value=1e3)}),t(n,{title:"470 Ω",onClick:e[12]||(e[12]=l=>m.value=470)})]),_:1},8,["modelValue","rule"]),t(C,{modelValue:p.value,"onUpdate:modelValue":e[20]||(e[20]=l=>p.value=l),label:"C1の静電容量",variant:"underlined",density:"compact",unit:"F",scale:"log",max:.001,min:1e-12,"fraction-digits":3,"prefix-symbols":["","m","μ","n","p"],rule:[o(u).required,o(u).value,o(u).notNegative,o(u).notZero],cols:"4","hide-details":""},{"menu-list":a(()=>[t(n,{title:"100.0 μF",onClick:e[14]||(e[14]=l=>p.value=1e-4)}),t(n,{title:"10.0 μF",onClick:e[15]||(e[15]=l=>p.value=1e-5)}),t(n,{title:"1.0 μF",onClick:e[16]||(e[16]=l=>p.value=1e-6)}),t(n,{title:"0.1 μF",onClick:e[17]||(e[17]=l=>p.value=1e-7)}),t(n,{title:"0.01 μF",onClick:e[18]||(e[18]=l=>p.value=1e-8)}),t(n,{title:"0.001 μF",onClick:e[19]||(e[19]=l=>p.value=1e-9)})]),_:1},8,["modelValue","rule"]),t(C,{modelValue:f.value,"onUpdate:modelValue":e[26]||(e[26]=l=>f.value=l),label:"電源電圧",variant:"underlined",density:"compact",unit:"V",max:18,min:1,scale:"log","fraction-digits":2,rule:[o(u).required,o(u).value,o(u).notNegative,o(u).notZero],cols:"4","hide-details":""},{"menu-list":a(()=>[t(n,{title:"18 V",onClick:e[21]||(e[21]=l=>f.value=18)}),t(n,{title:"9 V",onClick:e[22]||(e[22]=l=>f.value=9)}),t(n,{title:"5 V",onClick:e[23]||(e[23]=l=>f.value=5)}),t(n,{title:"3.3 V",onClick:e[24]||(e[24]=l=>f.value=3.3)}),t(n,{title:"1.8 V",onClick:e[25]||(e[25]=l=>f.value=1.8)})]),_:1},8,["modelValue","rule"]),t(d,null,{default:a(()=>[t(s,{cols:"3"},{default:a(()=>[t(k,{value:_.value,"onUpdate:value":e[27]||(e[27]=l=>_.value=l),label:"周波数",variant:"underlined",density:"compact",unit:"Hz","prefix-symbols":["G","M","k",""],readonly:""},null,8,["value"])]),_:1}),t(s,{cols:"3"},{default:a(()=>[t(k,{value:y.value,"onUpdate:value":e[28]||(e[28]=l=>y.value=l),label:"Hレベル時間",variant:"underlined",density:"compact",unit:"s","prefix-symbols":["","m","μ","n"],readonly:""},null,8,["value"])]),_:1}),t(s,{cols:"3"},{default:a(()=>[t(k,{value:c.value,"onUpdate:value":e[29]||(e[29]=l=>c.value=l),label:"Lレベル時間",variant:"underlined",density:"compact",unit:"s","prefix-symbols":["","m","μ","n"],readonly:""},null,8,["value"])]),_:1}),t(s,{cols:"3"},{default:a(()=>[t(k,{value:g.value,"onUpdate:value":e[30]||(e[30]=l=>g.value=l),label:"デューティ比",variant:"underlined",density:"compact",unit:"%",readonly:""},null,8,["value"])]),_:1}),t(s,{cols:"3"},{default:a(()=>[t(k,{value:R.value,"onUpdate:value":e[31]||(e[31]=l=>R.value=l),label:"R1の最大電流",variant:"underlined",density:"compact",readonly:"",unit:"A","prefix-symbols":["","m","μ","n"]},null,8,["value"])]),_:1}),t(s,{cols:"3"},{default:a(()=>[t(k,{value:F.value,"onUpdate:value":e[32]||(e[32]=l=>F.value=l),label:"R1の最大損失",variant:"underlined",density:"compact",readonly:"",unit:"W","prefix-symbols":["","m","μ","n"]},null,8,["value"])]),_:1})]),_:1}),t(d,null,{default:a(()=>[t(s,{cols:"12"},{default:a(()=>[$("div",D,[t(H,{ref_key:"chart",ref:V,initializer:M},null,512)])]),_:1})]),_:1})]),_:1}),t(s,{cols:"12",sm:"4",class:"text-center"},{default:a(()=>[E]),_:1})]),_:1}),t(d,null,{default:a(()=>[t(x),t(s,{cols:"12"},{default:a(()=>[t(S,null,{default:a(()=>[O,I,P,W,j,J,K,Q]),_:1})]),_:1})]),_:1})]),_:1})}}});B("#app",X);
