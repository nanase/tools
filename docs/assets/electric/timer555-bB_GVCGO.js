var k=Object.defineProperty;var U=(c,e,t)=>e in c?k(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t;var F=(c,e,t)=>U(c,typeof e!="symbol"?e+"":e,t);import{d as R,m as G,u as B,r as m,w as M,a as $,o as P,c as C,b as s,e as l,f as E,g as q,_ as L,h as x,i as T}from"../tools-AppBase.vue_vue_type_script_setup_true_lang-CMjXyEjD.js";const z="/tools/electric/timer555.svg",b={symbol:"",exponent:0},g=[{symbol:"Q",exponent:30},{symbol:"R",exponent:27},{symbol:"Y",exponent:24},{symbol:"Z",exponent:21},{symbol:"E",exponent:18},{symbol:"P",exponent:15},{symbol:"T",exponent:12},{symbol:"G",exponent:9},{symbol:"M",exponent:6},{symbol:"k",exponent:3},{symbol:"h",exponent:2},{symbol:"da",exponent:1},b,{symbol:"d",exponent:-1},{symbol:"c",exponent:-2},{symbol:"m",exponent:-3},{symbol:"μ",exponent:-6},{symbol:"u",exponent:-6},{symbol:"n",exponent:-9},{symbol:"p",exponent:-12},{symbol:"f",exponent:-15},{symbol:"a",exponent:-18},{symbol:"z",exponent:-21},{symbol:"y",exponent:-24},{symbol:"r",exponent:-27},{symbol:"q",exponent:-30}],p=class p{constructor(e,t){this.fraction=e,this.prefix=t}get actualValue(){return this.fraction*10**this.prefix.exponent}static getPrefixSymbols(e){return g.filter(t=>t.exponent%(e?1:3)===0).map(t=>t.symbol)}static test(e){return p.siValuePattern.test(e??"")}static parse(e){const t=p.siValuePattern.exec(e??"");if(t==null)return new p(Number.NaN,b);const o=Number.parseFloat(t[1]),u=g.find(a=>a.symbol===t[2]);return u?new p(o,u):new p(o,b)}static fit(e,t){if(!Number.isFinite(e)&&t.length===0)return new p(e,b);if(e!==0){const o=t.map(u=>{const a=p.getPrefix(u),i=e*10**-a.exponent,y=Math.abs(i-500);return{prefix:a,practicalValue:i,rank:y}}).sort((u,a)=>u.rank-a.rank);return new p(o[0].practicalValue,o[0].prefix)}else return new p(0,b)}static fitBy(e,t){if(!Number.isFinite(e))return new p(e,b);const o=p.getPrefix(t),u=e*10**-o.exponent;return new p(u,o)}static getPrefix(e){const t=g.find(o=>o.symbol===e);if(!t)throw new Error(`Prefix symbol '${e}' is not defined.`);return t}static successor(e,t){const o=p.getPrefix(e),u=g.filter(i=>i.exponent>o.exponent&&i.exponent%(t?1:3)===0);if(u.length===0)return e;const a=u.slice(-1)[0];return u.filter(i=>i.exponent===a.exponent)[0].symbol}static predecessor(e,t){const o=p.getPrefix(e),u=g.filter(a=>a.exponent<o.exponent&&a.exponent%(t?1:3)===0);return u.length===0?e:u[0].symbol}};F(p,"siValuePattern",/^([+-]?(?:[0-9]*\.)?[0-9]+)([QRYZEPTGMkmuμnpfazyrq]?)$/);let _=p;const v=R({__name:"ValueInput",props:G({label:null,variant:null,density:null,placeholder:null,unit:null,prefixSymbols:null,readonly:{type:Boolean}},{value:{},valueModifiers:{}}),emits:["update:value"],setup(c){const e=B(c,"value"),t=m(),o={required:a=>!!a||"値を入力してください",value:a=>Number.isFinite(_.parse(a).fraction)||"不正な値です",notZero:a=>Number(a)!==0||"値を 0 にはできません",notNegative:a=>{const i=_.parse(a);return Number.isFinite(i.fraction)&&i.fraction>=0||"負値にはできません"}};M(()=>e.value,()=>{if(typeof e.value<"u"&&Number.isFinite(e.value)&&c.readonly){const a=_.fit(e.value,c.prefixSymbols??[""]);t.value=`${a.fraction.toFixed(3)}${a.prefix.symbol}`}});function u(a){const i=_.parse(a);Number.isFinite(i.fraction)&&(e.value=i.actualValue)}return(a,i)=>{const y=$("v-text-field"),h=$("v-col"),w=$("v-row");return P(),C(w,{"no-gutters":""},{default:s(()=>[l(h,null,{default:s(()=>[l(y,{"model-value":t.value,"onUpdate:modelValue":[i[0]||(i[0]=V=>t.value=V),u],label:c.label,variant:c.variant,density:c.density,placeholder:c.placeholder,rules:c.readonly?[]:[o.required,o.value,o.notZero,o.notNegative],readonly:c.readonly,prefix:c.unit,class:"text-align-right",reverse:"",inputmode:"numeric"},null,8,["model-value","label","variant","density","placeholder","rules","readonly","prefix"])]),_:1})]),_:1})}}}),H=R({__name:"MathJax",setup(c){return E(()=>{window.MathJax.typeset()}),(e,t)=>q(e.$slots,"default")}}),Z=x("img",{class:"color-responsive",src:z,style:{width:"100%","max-width":"400px"}},null,-1),A=x("p",null," 出力パルスのHレベルの時間 \\(t_\\text{high}\\) とLレベルの時間 \\( t_\\text{low} \\) はそれぞれ以下の式で求められます。 ",-1),O=x("p",null,"$$ t_\\text{high} = \\ln(2) \\cdot (R_{1}+R_{2})\\cdot C_1 $$",-1),S=x("p",null,"$$ t_\\text{low} = \\ln(2) \\cdot R_2 \\cdot C_1 $$",-1),D=x("p",null,"したがって、出力パルスの周波数 \\(f\\) は次の式で求められます。",-1),J=x("p",null,"$$ f = \\frac{1}{t_\\text{high} + t_\\text{low}} = \\frac{1}{\\ln(2) \\cdot (R_1 + 2 R_2) \\cdot C_1} $$",-1),Q=x("p",null,"さらに、デューティ比 \\(D\\) は次の式で求められます。",-1),Y=x("p",null," $$ D~(\\%) = \\frac{t_\\text{high}}{t_\\text{high} + t_\\text{low}} \\cdot 100 = \\frac{R_1 + R_2}{R_1 + 2 R_2} \\cdot 100 $$ ",-1),I=x("p",null," ここで \\(t\\) は時間 [s]、\\(R\\) は抵抗値 [Ω]、\\(C\\) は静電容量 [F]、\\(f\\) は周波数 [Hz]、\\(\\ln(2)\\) は2の自然対数です。 ",-1),W=R({__name:"Timer555App",setup(c){const e=m(),t=m(),o=m(),u=m(),a=m(),i=m(),y=m(),h=m(),w=m(),V=m();return M(()=>[e.value,t.value,o.value],()=>{const f=e.value,n=t.value,r=o.value;typeof f<"u"&&typeof n<"u"&&typeof r<"u"&&Number.isFinite(f)&&Number.isFinite(n)&&Number.isFinite(r)&&(a.value=Math.LOG2E/((f+n*2)*r),i.value=1/Math.LOG2E*((f+n)*r),y.value=1/Math.LOG2E*(n*r),h.value=(f+n)/(f+2*n)*100)}),M(()=>[u.value,e.value],()=>{const f=u.value,n=e.value;typeof f<"u"&&typeof n<"u"&&Number.isFinite(f)&&Number.isFinite(n)&&(w.value=f/n,V.value=f**2/n)}),(f,n)=>{const r=$("v-col"),N=$("v-row");return P(),C(L,{"page-id":"electric/timer555","toolbar-title":"タイマIC 555 計算機"},{default:s(()=>[l(N,null,{default:s(()=>[l(r,{cols:"12",sm:"8"},{default:s(()=>[l(N,null,{default:s(()=>[l(r,{cols:"4"},{default:s(()=>[l(v,{value:e.value,"onUpdate:value":n[0]||(n[0]=d=>e.value=d),label:"R1の抵抗値",variant:"underlined",density:"compact",placeholder:"1k",unit:"Ω","prefix-symbols":["G","M","k","","m"]},null,8,["value"])]),_:1}),l(r,{cols:"4"},{default:s(()=>[l(v,{value:t.value,"onUpdate:value":n[1]||(n[1]=d=>t.value=d),label:"R2の抵抗値",variant:"underlined",density:"compact",placeholder:"1k",unit:"Ω","prefix-symbols":["G","M","k","","m"]},null,8,["value"])]),_:1}),l(r,{cols:"4"},{default:s(()=>[l(v,{value:o.value,"onUpdate:value":n[2]||(n[2]=d=>o.value=d),label:"C1の静電容量",variant:"underlined",density:"compact",placeholder:"0.01μ",unit:"F","prefix-symbols":["","m","μ","n","p"]},null,8,["value"])]),_:1}),l(r,{cols:"4"},{default:s(()=>[l(v,{value:u.value,"onUpdate:value":n[3]||(n[3]=d=>u.value=d),label:"電源電圧",variant:"underlined",density:"compact",placeholder:"5",unit:"V"},null,8,["value"])]),_:1})]),_:1}),l(N,null,{default:s(()=>[l(r,{cols:"3"},{default:s(()=>[l(v,{value:a.value,"onUpdate:value":n[4]||(n[4]=d=>a.value=d),label:"周波数",variant:"underlined",density:"compact",unit:"Hz","prefix-symbols":["G","M","k",""],readonly:""},null,8,["value"])]),_:1}),l(r,{cols:"3"},{default:s(()=>[l(v,{value:i.value,"onUpdate:value":n[5]||(n[5]=d=>i.value=d),label:"Hレベル時間",variant:"underlined",density:"compact",unit:"s","prefix-symbols":["","m","μ","n"],readonly:""},null,8,["value"])]),_:1}),l(r,{cols:"3"},{default:s(()=>[l(v,{value:y.value,"onUpdate:value":n[6]||(n[6]=d=>y.value=d),label:"Lレベル時間",variant:"underlined",density:"compact",unit:"s","prefix-symbols":["","m","μ","n"],readonly:""},null,8,["value"])]),_:1}),l(r,{cols:"3"},{default:s(()=>[l(v,{value:h.value,"onUpdate:value":n[7]||(n[7]=d=>h.value=d),label:"デューティ比",variant:"underlined",density:"compact",unit:"%",readonly:""},null,8,["value"])]),_:1}),l(r,{cols:"3"},{default:s(()=>[l(v,{value:w.value,"onUpdate:value":n[8]||(n[8]=d=>w.value=d),label:"R1の最大電流",variant:"underlined",density:"compact",readonly:"",unit:"A","prefix-symbols":["","m","μ","n"]},null,8,["value"])]),_:1}),l(r,{cols:"3"},{default:s(()=>[l(v,{value:V.value,"onUpdate:value":n[9]||(n[9]=d=>V.value=d),label:"R1の最大損失",variant:"underlined",density:"compact",readonly:"",unit:"W","prefix-symbols":["","m","μ","n"]},null,8,["value"])]),_:1})]),_:1})]),_:1}),l(r,{cols:"12",sm:"4",class:"text-center"},{default:s(()=>[Z]),_:1})]),_:1}),l(N,null,{default:s(()=>[l(r,{cols:"12"},{default:s(()=>[l(H,null,{default:s(()=>[A,O,S,D,J,Q,Y,I]),_:1})]),_:1})]),_:1})]),_:1})}}});T("#app",W);
