import{d as q,r,w,a as C,o as A,c as L,b as a,e as t,u,R as o,h as x,f,_ as z,S as U,g as G}from"../tools-SIValueInput.vue_vue_type_script_setup_true_lang-BTbVBeTJ.js";import{_ as H,C as S}from"../tools-ChartBase.vue_vue_type_script_setup_true_lang-CCXih-DI.js";import{_ as T}from"../tools-MathJax.vue_vue_type_style_index_0_lang-OW60nBH6.js";import{_ as V}from"../tools-InputRow.vue_vue_type_script_setup_true_lang-U2npj9cw.js";import{d as Z}from"../tools-object-DXBQZyn3.js";const B="/tools/electric/timer555.svg",D={style:{height:"250px"}},E=f("img",{class:"color-responsive",src:B,style:{width:"100%","max-width":"400px"}},null,-1),O=f("p",null," 出力パルスのHレベルの時間 \\(t_\\text{high}\\) とLレベルの時間 \\( t_\\text{low} \\) はそれぞれ以下の式で求められます。 ",-1),I=f("p",null,"$$ t_\\text{high} = \\ln(2) \\cdot (R_{1}+R_{2})\\cdot C_1 $$",-1),P=f("p",null,"$$ t_\\text{low} = \\ln(2) \\cdot R_2 \\cdot C_1 $$",-1),W=f("p",null,"したがって、出力パルスの周波数 \\(f\\) は次の式で求められます。",-1),j=f("p",null,"$$ f = \\frac{1}{t_\\text{high} + t_\\text{low}} = \\frac{1}{\\ln(2) \\cdot (R_1 + 2 R_2) \\cdot C_1} $$",-1),J=f("p",null,"さらに、デューティ比 \\(D\\) は次の式で求められます。",-1),K=f("p",null," $$ D~(\\%) = \\frac{t_\\text{high}}{t_\\text{high} + t_\\text{low}} \\cdot 100 = \\frac{R_1 + R_2}{R_1 + 2 R_2} \\cdot 100 $$ ",-1),Q=f("p",null," ここで \\(t\\) は時間 [s]、\\(R\\) は抵抗値 [Ω]、\\(C\\) は静電容量 [F]、\\(f\\) は周波数 [Hz]、\\(\\ln(2)\\) は2の自然対数です。 ",-1),X=q({__name:"Timer555App",setup(Y){const b=r(),d=r(1e4),v=r(1e4),m=r(1e-7),p=r(5),_=r(0),$=r(0),y=r(0),g=r(),R=r(),F=r();w(()=>[d.value,v.value,m.value,b.value],()=>{const i=d.value,e=v.value,n=m.value;typeof i<"u"&&typeof e<"u"&&typeof n<"u"&&Number.isFinite(i)&&Number.isFinite(e)&&Number.isFinite(n)&&(_.value=Math.LOG2E/((i+e*2)*n),$.value=1/Math.LOG2E*((i+e)*n),y.value=1/Math.LOG2E*(e*n),g.value=(i+e)/(i+2*e)*100,N())},{immediate:!0}),w(()=>[p.value,d.value],()=>{const i=p.value,e=d.value;typeof i<"u"&&typeof e<"u"&&Number.isFinite(i)&&Number.isFinite(e)&&(R.value=i/e,F.value=i**2/e,N())},{immediate:!0});function M(i){return new S(i,{type:"line",data:{datasets:[]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{title:function(e){return`${U.fit(Number(e[0].parsed.x),["","m","μ","n","p"]).toFixed(1)}s`},label:function(e){return`出力: ${e.parsed.y}V`}}}},scales:{x:{type:"linear",min:0,alignToPixels:!0,ticks:{callback(e){return e===0?"0":`${U.fit(Number(e),["","m","μ","n","p"]).toFixed(1)}s`}}},y:{offset:!0,ticks:{callback(e){return e===0?"0":`${Number(e).toFixed(1)}V`}}}}}})}function N(){var s,k;const i=(s=b.value)==null?void 0:s.getChart();if(!i||!i.ready)return;const e=[];let n=(y.value+$.value)*-3;for(let c=0;c<6;c++)e.push({x:n,y:p.value}),n+=$.value,e.push({x:n,y:0}),n+=y.value;Z(i.chart,{data:{datasets:[{label:"出力",data:e,pointStyle:!1,hidden:typeof((k=i.chart.data.datasets[0])==null?void 0:k.hidden)>"u"?!1:!i.chart.isDatasetVisible(0),stepped:"before"}]},scales:{x:{options:{min:(y.value+$.value)*-2.1,max:(y.value+$.value)*2.1}}}}).update("none")}return(i,e)=>{const n=C("v-list-item"),s=C("v-col"),k=C("v-row"),c=C("v-divider");return A(),L(z,{"page-id":"electric/timer555","toolbar-title":"タイマIC 555 計算機"},{default:a(()=>[t(k,null,{default:a(()=>[t(s,{cols:"12",sm:"8"},{default:a(()=>[t(V,{modelValue:d.value,"onUpdate:modelValue":e[6]||(e[6]=l=>d.value=l),label:"R1の抵抗値",variant:"underlined",density:"compact",unit:"Ω",scale:"log",max:1e6,min:100,"fraction-digits":3,"prefix-symbols":["M","k","","m"],rule:[u(o).required,u(o).value,u(o).notNegative,u(o).notZero],cols:"4","hide-details":""},{"menu-list":a(()=>[t(n,{title:"100.0 kΩ",onClick:e[0]||(e[0]=l=>d.value=1e5)}),t(n,{title:"47.0 kΩ",onClick:e[1]||(e[1]=l=>d.value=47e3)}),t(n,{title:"10.0 kΩ",onClick:e[2]||(e[2]=l=>d.value=1e4)}),t(n,{title:"4.7 kΩ",onClick:e[3]||(e[3]=l=>d.value=4700)}),t(n,{title:"1.0 kΩ",onClick:e[4]||(e[4]=l=>d.value=1e3)}),t(n,{title:"470 Ω",onClick:e[5]||(e[5]=l=>d.value=470)})]),_:1},8,["modelValue","rule"]),t(V,{modelValue:v.value,"onUpdate:modelValue":e[13]||(e[13]=l=>v.value=l),label:"R2の抵抗値",variant:"underlined",density:"compact",unit:"Ω",scale:"log",max:1e6,min:100,"fraction-digits":3,"prefix-symbols":["M","k","","m"],rule:[u(o).required,u(o).value,u(o).notNegative,u(o).notZero],cols:"4","hide-details":""},{"menu-list":a(()=>[t(n,{title:"100.0 kΩ",onClick:e[7]||(e[7]=l=>v.value=1e5)}),t(n,{title:"47.0 kΩ",onClick:e[8]||(e[8]=l=>v.value=47e3)}),t(n,{title:"10.0 kΩ",onClick:e[9]||(e[9]=l=>v.value=1e4)}),t(n,{title:"4.7 kΩ",onClick:e[10]||(e[10]=l=>v.value=4700)}),t(n,{title:"1.0 kΩ",onClick:e[11]||(e[11]=l=>v.value=1e3)}),t(n,{title:"470 Ω",onClick:e[12]||(e[12]=l=>v.value=470)})]),_:1},8,["modelValue","rule"]),t(V,{modelValue:m.value,"onUpdate:modelValue":e[20]||(e[20]=l=>m.value=l),label:"C1の静電容量",variant:"underlined",density:"compact",unit:"F",scale:"log",max:.001,min:1e-12,"fraction-digits":3,"prefix-symbols":["","m","μ","n","p"],rule:[u(o).required,u(o).value,u(o).notNegative,u(o).notZero],cols:"4","hide-details":""},{"menu-list":a(()=>[t(n,{title:"100.0 μF",onClick:e[14]||(e[14]=l=>m.value=1e-4)}),t(n,{title:"10.0 μF",onClick:e[15]||(e[15]=l=>m.value=1e-5)}),t(n,{title:"1.0 μF",onClick:e[16]||(e[16]=l=>m.value=1e-6)}),t(n,{title:"0.1 μF",onClick:e[17]||(e[17]=l=>m.value=1e-7)}),t(n,{title:"0.01 μF",onClick:e[18]||(e[18]=l=>m.value=1e-8)}),t(n,{title:"0.001 μF",onClick:e[19]||(e[19]=l=>m.value=1e-9)})]),_:1},8,["modelValue","rule"]),t(V,{modelValue:p.value,"onUpdate:modelValue":e[26]||(e[26]=l=>p.value=l),label:"電源電圧",variant:"underlined",density:"compact",unit:"V",max:18,min:1,scale:"log","fraction-digits":2,rule:[u(o).required,u(o).value,u(o).notNegative,u(o).notZero],cols:"4","hide-details":""},{"menu-list":a(()=>[t(n,{title:"18 V",onClick:e[21]||(e[21]=l=>p.value=18)}),t(n,{title:"9 V",onClick:e[22]||(e[22]=l=>p.value=9)}),t(n,{title:"5 V",onClick:e[23]||(e[23]=l=>p.value=5)}),t(n,{title:"3.3 V",onClick:e[24]||(e[24]=l=>p.value=3.3)}),t(n,{title:"1.8 V",onClick:e[25]||(e[25]=l=>p.value=1.8)})]),_:1},8,["modelValue","rule"]),t(k,null,{default:a(()=>[t(s,{cols:"3"},{default:a(()=>[t(x,{value:_.value,"onUpdate:value":e[27]||(e[27]=l=>_.value=l),label:"周波数",variant:"underlined",density:"compact",unit:"Hz","prefix-symbols":["G","M","k",""],readonly:""},null,8,["value"])]),_:1}),t(s,{cols:"3"},{default:a(()=>[t(x,{value:$.value,"onUpdate:value":e[28]||(e[28]=l=>$.value=l),label:"Hレベル時間",variant:"underlined",density:"compact",unit:"s","prefix-symbols":["","m","μ","n"],readonly:""},null,8,["value"])]),_:1}),t(s,{cols:"3"},{default:a(()=>[t(x,{value:y.value,"onUpdate:value":e[29]||(e[29]=l=>y.value=l),label:"Lレベル時間",variant:"underlined",density:"compact",unit:"s","prefix-symbols":["","m","μ","n"],readonly:""},null,8,["value"])]),_:1}),t(s,{cols:"3"},{default:a(()=>[t(x,{value:g.value,"onUpdate:value":e[30]||(e[30]=l=>g.value=l),label:"デューティ比",variant:"underlined",density:"compact",unit:"%",readonly:""},null,8,["value"])]),_:1}),t(s,{cols:"3"},{default:a(()=>[t(x,{value:R.value,"onUpdate:value":e[31]||(e[31]=l=>R.value=l),label:"R1の最大電流",variant:"underlined",density:"compact",readonly:"",unit:"A","prefix-symbols":["","m","μ","n"]},null,8,["value"])]),_:1}),t(s,{cols:"3"},{default:a(()=>[t(x,{value:F.value,"onUpdate:value":e[32]||(e[32]=l=>F.value=l),label:"R1の最大損失",variant:"underlined",density:"compact",readonly:"",unit:"W","prefix-symbols":["","m","μ","n"]},null,8,["value"])]),_:1})]),_:1}),t(k,null,{default:a(()=>[t(s,{cols:"12"},{default:a(()=>[f("div",D,[t(H,{ref_key:"chart",ref:b,initializer:M},null,512)])]),_:1})]),_:1})]),_:1}),t(s,{cols:"12",sm:"4",class:"text-center"},{default:a(()=>[E]),_:1})]),_:1}),t(k,null,{default:a(()=>[t(c),t(s,{cols:"12"},{default:a(()=>[t(T,null,{default:a(()=>[O,I,P,W,j,J,K,Q]),_:1})]),_:1})]),_:1})]),_:1})}}});G("#app",X);
