import{d as m,aa as p,T as x,ab as V,r as s,w as g,i as b,p as c,o as y,c as F,u,X as n,ac as M}from"./tools-AppBase.vue_vue_type_script_setup_true_lang-D3a-CPUg.js";const N=m({__name:"SIValueInput",props:p({unit:null,prefixSymbols:null,fractionDigits:null,rule:null},{value:{},valueModifiers:{}}),emits:["update:value"],setup(a){const d=x(),l=V(a,"value"),i=s(),o=s();g(()=>l.value,()=>{r()}),b(()=>{r()});function r(){var t;if(typeof l.value<"u"&&Number.isFinite(l.value)&&!((t=o.value)!=null&&t.focused)){const e=c.fit(l.value,a.prefixSymbols??[""]);i.value=`${e.toFixed(a.fractionDigits??3)}`}}function f(t){const e=c.parse(t);Number.isFinite(e.fraction)&&(l.value=e.actualValue)}return(t,e)=>(y(),F(u(M),{"model-value":i.value,"onUpdate:modelValue":[e[0]||(e[0]=v=>i.value=v),f],rules:u(d).readonly?[]:a.rule?a.rule:[u(n).required,u(n).value,u(n).notZero,u(n).notNegative],prefix:a.unit,class:"text-align-right",reverse:"",inputmode:"numeric",ref_key:"field",ref:o},null,8,["model-value","rules","prefix"]))}});export{N as _};
